<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Image Upload</title>
</head>
<body>
  <input type="file" id="imageInput">
  <input type="number" id="left" placeholder="Left">
  <input type="number" id="top" placeholder="Top">
  <input type="number" id="width" placeholder="Width">
  <input type="number" id="height" placeholder="Height">
  
  <button onclick="uploadImage()">Upload Image</button>

  <script>
    async function uploadImage() {
      const fileInput = document.getElementById('imageInput');
      const imageFile = fileInput.files[0];

      if (!imageFile) {
        console.error('No file selected');
        return;
      }

      // Get position and size data
      const left = document.getElementById('left').value || 0;
      const top = document.getElementById('top').value || 0;
      const width = document.getElementById('width').value || 100;
      const height = document.getElementById('height').value || 100;

      const formData = new FormData();
      formData.append('image', imageFile);
      formData.append('left', left);
      formData.append('top', top);
      formData.append('width', width);
      formData.append('height', height);

      try {
        const response = await fetch('/upload', {
          method: 'POST',
          body: formData,
        });

        if (response.ok) {
          console.log('Image uploaded successfully');
        } else {
          console.error('Failed to upload image');
        }
      } catch (error) {
        console.error('Error:', error);
      }
    }
  </script>
</body>
</html>
